<!DOCTYPE html>
<html>
    <head>
        <meta charset = "utf-8">
        <title>sid</title>
        <link rel="stylesheet" href = "style-solutions.css">
        <link href="https://fonts.googleapis.com/css?family=Courier+Prime&display=swap" rel="stylesheet">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
        <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </head>
    
    <body>
        <div id = "transition">
            <div class = "header">
                <h1>Cereal</h1>
                <h2>USACO US Open [March] 2020 Silver</h2>

                <hr>
            </div>
            
            <div class = "statement">
                <p>Consider set \(U=\{u_1, u_2, u_3, ... u_n\}.\) Set \(U\) represents <strong>all</strong> of the cows, specifically their preferences. We can say
                    
                \[ u_x=\begin{cases} 
                        s_x=x_x \\
                        f_x=y_x
                \end{cases},
                \] 
                <br>
                Where <i>s</i> and <i>f</i> are each cow's preferred cereals. Now consider, for \(i=0\). We can denote all of the cows that would <i>not</i> recieve a box of cereal as \(r\) within set \(R.\) To be more precise,
                    
                    \[R=\{r_1, r_2, r_3, ... r_n\}; r_i \in U.\]
                    <br>
                Now for each \(u_i\) removed, we can determine which "rejected" cows can now pick up a cereal by seeing if \(s_x \parallel f_x = r\{s_x, f_x\}.\)
                <br><br>
                Problem Tags: Sets, Optimized Search
                </p>
                <hr class = "half-hr">
            </div>
            
            <div class = "solution">
            <pre>
// <i>@author Sid Banerjee, 2020</i>         
            
import java.io.*;
import java.util.*;

public class blist {
    public static void main(String[] args) throws IOException {
        Scanner in = new Scanner(new File("blist.in"));
        PrintWriter pw = new PrintWriter(new File("blist.out"));

        // input here
        int n = in.nextInt(); in.nextLine();
        cow[] cows = new cow[n];
        for(int i = 0; i < n; i++){
            cows[i] = new cow(in.nextInt(), in.nextInt(), in.nextInt());
            if(in.hasNextLine()){
                in.nextLine();
            }
        }

        int minTime = Integer.MAX_VALUE, maxTime = Integer.MIN_VALUE;
        for(cow c : cows){
            minTime = Math.min(minTime, c.getStartTime());
            maxTime = Math.max(maxTime, c.getEndTime());
        }

        // algorithm here
        int totalBuckets = 0;
        for(int i = minTime; i <= maxTime; i++){
            int cb = 0;
            for(cow c : cows){ // check if any cow is being milked at the current time
                if(i >= c.getStartTime() && i <= c.getEndTime()){
                    cb += c.getBucketsRequired();
                }

                // is a cow finishing milking?
                if(i == c.getEndTime()+1){
                    cb -= c.getBucketsRequired();
                }
                if(cb > totalBuckets){
                    totalBuckets = cb;
                }
            }
        }

        pw.println(totalBuckets);
        pw.close();
    }

    static class cow {

        int startTime, endTime, bucketsRequired;

        public cow(int startTime, int endTime, int bucketsRequired){
            this.startTime = startTime;
            this.endTime = endTime;
            this.bucketsRequired = bucketsRequired;
        }

        public int getStartTime() {
            return startTime;
        }

        public int getEndTime() {
            return endTime;
        }

        public int getBucketsRequired() {
            return bucketsRequired;
        }
    }
}

            </pre>
            </div>
        </div>
    </body>
</html>